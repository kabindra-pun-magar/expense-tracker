{"ast":null,"code":"// src/api.js\nconst API_BASE = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\nfunction getToken() {\n  return localStorage.getItem('token');\n}\nfunction authHeaders() {\n  const token = getToken();\n  return token ? {\n    'Authorization': `Bearer ${token}`\n  } : {};\n}\n\n// Auth\nexport async function register({\n  email,\n  password\n}) {\n  const res = await fetch(`${API_BASE}/auth/register`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      email,\n      password\n    })\n  });\n  return res.json();\n}\nexport async function login({\n  email,\n  password\n}) {\n  const res = await fetch(`${API_BASE}/auth/login`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      email,\n      password\n    })\n  });\n  return res.json();\n}\nexport async function getMe() {\n  try {\n    const res = await fetch(`${API_BASE}/auth/me`, {\n      headers: {\n        ...authHeaders(),\n        'Content-Type': 'application/json'\n      }\n    });\n    if (!res.ok) return null;\n    return await res.json();\n  } catch {\n    return null;\n  }\n}\nexport async function forgotPassword({\n  email\n}) {\n  const res = await fetch(`${API_BASE}/auth/forgot-password`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      email\n    })\n  });\n  return res.json();\n}\nexport async function resetPassword(token, {\n  password\n}) {\n  const res = await fetch(`${API_BASE}/auth/reset-password/${token}`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      password\n    })\n  });\n  return res.json();\n}\n\n// Transactions\nexport async function fetchTransactions() {\n  try {\n    const res = await fetch(`${API_BASE}/transactions`, {\n      headers: authHeaders()\n    });\n    if (!res.ok) return [];\n    return await res.json();\n  } catch {\n    return [];\n  }\n}\nexport async function createTransaction(trx) {\n  try {\n    const res = await fetch(`${API_BASE}/transactions`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        ...authHeaders()\n      },\n      body: JSON.stringify(trx)\n    });\n    if (!res.ok) return null;\n    return await res.json();\n  } catch {\n    return null;\n  }\n}\nexport async function deleteTransaction(id) {\n  try {\n    const res = await fetch(`${API_BASE}/transactions/${id}`, {\n      method: 'DELETE',\n      headers: authHeaders()\n    });\n    return res.ok;\n  } catch {\n    return false;\n  }\n}","map":{"version":3,"names":["API_BASE","process","env","REACT_APP_API_URL","getToken","localStorage","getItem","authHeaders","token","register","email","password","res","fetch","method","headers","body","JSON","stringify","json","login","getMe","ok","forgotPassword","resetPassword","fetchTransactions","createTransaction","trx","deleteTransaction","id"],"sources":["D:/PROJECTS/expense-tracker-pro/frontend/src/api.js"],"sourcesContent":["// src/api.js\r\nconst API_BASE = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n\r\nfunction getToken() {\r\n  return localStorage.getItem('token');\r\n}\r\nfunction authHeaders() {\r\n  const token = getToken();\r\n  return token ? { 'Authorization': `Bearer ${token}` } : {};\r\n}\r\n\r\n// Auth\r\nexport async function register({ email, password }) {\r\n  const res = await fetch(`${API_BASE}/auth/register`, {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({ email, password })\r\n  });\r\n  return res.json();\r\n}\r\nexport async function login({ email, password }) {\r\n  const res = await fetch(`${API_BASE}/auth/login`, {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({ email, password })\r\n  });\r\n  return res.json();\r\n}\r\nexport async function getMe() {\r\n  try {\r\n    const res = await fetch(`${API_BASE}/auth/me`, { headers: { ...authHeaders(), 'Content-Type': 'application/json' }});\r\n    if (!res.ok) return null;\r\n    return await res.json();\r\n  } catch {\r\n    return null;\r\n  }\r\n}\r\nexport async function forgotPassword({ email }) {\r\n  const res = await fetch(`${API_BASE}/auth/forgot-password`, {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({ email })\r\n  });\r\n  return res.json();\r\n}\r\nexport async function resetPassword(token, { password }) {\r\n  const res = await fetch(`${API_BASE}/auth/reset-password/${token}`, {\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    body: JSON.stringify({ password })\r\n  });\r\n  return res.json();\r\n}\r\n\r\n// Transactions\r\nexport async function fetchTransactions() {\r\n  try {\r\n    const res = await fetch(`${API_BASE}/transactions`, { headers: authHeaders() });\r\n    if (!res.ok) return [];\r\n    return await res.json();\r\n  } catch {\r\n    return [];\r\n  }\r\n}\r\nexport async function createTransaction(trx) {\r\n  try {\r\n    const res = await fetch(`${API_BASE}/transactions`, {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json', ...authHeaders() },\r\n      body: JSON.stringify(trx)\r\n    });\r\n    if (!res.ok) return null;\r\n    return await res.json();\r\n  } catch {\r\n    return null;\r\n  }\r\n}\r\nexport async function deleteTransaction(id) {\r\n  try {\r\n    const res = await fetch(`${API_BASE}/transactions/${id}`, {\r\n      method: 'DELETE',\r\n      headers: authHeaders()\r\n    });\r\n    return res.ok;\r\n  } catch {\r\n    return false;\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}